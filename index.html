<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ti·∫øng Anh Gia ƒê√¨nh - NG·ªåC HI·∫æU PC üåü</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700;800&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
  :root {
    --c1: #FF6B6B; --c2: #00BCD4; --c3: #4CAF50; --c4: #E91E8C;
    --dark: #1A1A2E; --darker: #0F0F1A;
    --card: #242436; --card2: #2D2D45;
    --text: #F0F0FF; --muted: #9999BB;
    --radius: 16px;
    --active: #FF6B6B;
  }
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--darker);
    color: var(--text);
    min-height: 100vh;
    overflow-y: auto;
    overflow-x: hidden;
  }

  /* BUBBLES BG */
  .bg-bubbles { position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow: hidden; }
  .bubble { position: absolute; border-radius: 50%; opacity: 0.04; animation: floatUp linear infinite; }
  @keyframes floatUp {
    0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
    100% { transform: translateY(-200px) scale(1.2); opacity: 0; }
  }

  /* HERO */
  .hero {
    position: relative; z-index: 5;
    text-align: center;
    padding: 60px 20px 40px;
    background: linear-gradient(180deg, #1A1A2E 0%, #0F0F1A 100%);
  }
  .hero h1 {
    font-family: 'Baloo 2', sans-serif;
    font-size: clamp(32px, 6vw, 64px);
    font-weight: 800;
    line-height: 1.1;
    background: linear-gradient(135deg, #FF6B6B, #FFD93D, #00BCD4, #E91E8C);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    animation: shimmer 4s linear infinite;
  }
  @keyframes shimmer { 0%{background-position:0%} 100%{background-position:300%} }

  /* LEVEL SELECTOR */
  .level-wrap {
    position: relative; z-index: 10;
    display: flex; justify-content: center; gap: 8px;
    margin-bottom: 25px; flex-wrap: wrap;
  }
  .lvl-btn {
    padding: 8px 16px; border-radius: 12px; border: 1.5px solid #333355;
    background: #1A1A2E; color: var(--muted); cursor: pointer;
    font-weight: 700; transition: 0.3s; font-size: 13px;
  }
  .lvl-btn.active { background: #FFF; color: #000; border-color: #FFF; box-shadow: 0 0 15px rgba(255,255,255,0.2); }

  /* SEARCH & TABS */
  .search-wrap { position: relative; z-index: 10; max-width: 560px; margin: 0 auto 20px; padding: 0 20px; }
  .search-wrap input { width: 100%; background: var(--card); border: 2px solid #333355; border-radius: 50px; padding: 14px 20px 14px 52px; color: var(--text); outline: none; }
  .search-icon { position: absolute; left: 38px; top: 50%; transform: translateY(-50%); font-size: 20px; }

  .tabs-wrap { position: relative; z-index: 10; display: flex; justify-content: center; gap: 8px; padding: 0 20px 32px; flex-wrap: wrap; }
  .tab-btn { padding: 10px 20px; border-radius: 50px; border: 2px solid #333355; background: var(--card); color: var(--muted); cursor: pointer; font-weight: 700; transition: 0.25s; }
  .tab-btn.active { color: white; border-color: transparent; transform: translateY(-2px); }
  .tab-btn.active[data-part="-1"] { background: linear-gradient(135deg, #7C3AED, #4F46E5); }
  .tab-btn.active[data-part="ai"] { background: linear-gradient(135deg, #FFD93D, #FF6B6B); color: #000; }
  .tab-btn.active[data-part="chat"] { background: linear-gradient(135deg, #00BCD4, #4CAF50); }

  /* MAIN CONTENT */
  main { position: relative; z-index: 5; max-width: 1200px; margin: 0 auto; padding: 0 20px 60px; }
  .part-header { display: flex; align-items: center; gap: 16px; margin-bottom: 20px; padding: 20px 28px; border-radius: var(--radius); color: white; font-weight: 800; font-size: 22px; font-family: 'Baloo 2'; justify-content: space-between; position: relative; overflow: hidden; }
  .topics-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 16px; }
  .topic-card { background: var(--card); border-radius: var(--radius); border: 1.5px solid #2D2D50; overflow: hidden; transition: 0.2s; }
  
  .sentence-row { display: grid; grid-template-columns: 28px 1fr 1fr 30px; gap: 8px; padding: 12px; border-bottom: 1px solid #22223A; align-items: center; }
  .stt-badge { width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 900; color: white; }
  .en-text { font-size: 13px; font-weight: 700; color: var(--text); line-height: 1.4; }
  .vi-text { font-size: 12px; color: var(--muted); font-style: italic; }

  /* CHAT STYLING FOR DIALOGUES - C·∫¢I TI·∫æN */
  .chat-bubble-wrap { display: flex; flex-direction: column; gap: 15px; padding: 20px; }
  .chat-bubble { 
    padding: 12px 18px; 
    border-radius: 18px; 
    max-width: 85%; 
    position: relative;
  }
  .speaker-A { 
    background: #333355; 
    align-self: flex-start; 
    border-bottom-left-radius: 2px; 
  }
  .speaker-B { 
    background: #008489; 
    align-self: flex-end; 
    border-bottom-right-radius: 2px; 
  }
  .chat-header { 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
    margin-bottom: 8px; 
  }
  .chat-meta { 
    font-size: 11px; 
    font-weight: 900; 
    text-transform: uppercase; 
    color: #FFD93D; 
    background: rgba(0,0,0,0.2); 
    padding: 3px 8px; 
    border-radius: 20px; 
    display: inline-block;
  }
  .chat-speak-btn { 
    background: rgba(255,255,255,0.15); 
    border: none; 
    width: 32px; 
    height: 32px; 
    border-radius: 50%; 
    cursor: pointer; 
    color: white; 
    font-size: 16px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    transition: 0.2s; 
    margin-left: 10px;
  }
  .chat-speak-btn:hover { 
    background: rgba(255,255,255,0.3); 
    transform: scale(1.1); 
  }
  .chat-speak-btn.speaking { 
    background: #FFD93D; 
    color: #000; 
    animation: pulse 0.6s infinite alternate; 
  }
  .chat-content { 
    margin-top: 5px; 
  }
  .chat-en { 
    font-weight: 700; 
    font-size: 14px; 
    display: block; 
    margin-bottom: 4px; 
    color: white; 
  }
  .chat-vi { 
    font-size: 12px; 
    opacity: 0.8; 
    font-style: italic; 
    color: rgba(255,255,255,0.9); 
  }
  @keyframes pulse { 
    from { transform: scale(1); } 
    to { transform: scale(1.2); } 
  }

  /* REFRESH BUTTON */
  .ai-btn { background: rgba(255,255,255,0.2); border: 1.5px solid white; color: white; padding: 6px 16px; border-radius: 50px; cursor: pointer; font-weight: 800; font-size: 13px; transition: 0.3s; }
  .ai-btn:hover { background: white; color: #000; }

  /* UI ELEMENTS */
  .speak-btn { background: none; border: none; cursor: pointer; font-size: 16px; color: var(--muted); transition: 0.2s; }
  .speak-btn.speaking { color: #FFD93D; animation: pulse 0.6s infinite alternate; }
  #progress { position: fixed; top: 0; left: 0; height: 4px; z-index: 9999; background: linear-gradient(90deg, #FF6B6B, #FFD93D, #00BCD4, #E91E8C); }
  #back-top { position: fixed; bottom: 30px; right: 30px; z-index: 1000; width: 50px; height: 50px; border-radius: 50%; background: var(--c1); color: white; border: none; cursor: pointer; visibility: hidden; opacity: 0; transition: 0.3s; display: flex; align-items: center; justify-content: center; }
  #back-top.show { visibility: visible; opacity: 1; }
  footer { position: relative; z-index: 10; text-align: center; padding: 50px 20px; border-top: 1px solid #2D2D50; color: var(--muted); line-height: 1.8; }
  .creator-info { color: #FFD93D; font-weight: 700; margin-top: 10px; font-size: 14px; }
  .hl { background: #FFD93D33; color: #FFD93D; padding: 0 2px; border-radius: 3px; }
  .loading-spinner { display: inline-block; width: 20px; height: 20px; border: 3px solid rgba(255,255,255,.3); border-radius: 50%; border-top-color: #fff; animation: spin 1s ease-in-out infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }
  .loading-text { display: flex; align-items: center; justify-content: center; gap: 10px; padding: 40px; color: var(--muted); }

  @media (max-width: 600px) {
    .topics-grid { grid-template-columns: 1fr; }
    .sentence-row { grid-template-columns: 24px 1fr 1fr 26px; }
    .part-header { flex-direction: column; text-align: center; }
    .chat-bubble { max-width: 95%; }
  }
</style>
</head>
<body>

<div id="progress" style="width:0%"></div>
<div class="bg-bubbles" id="bubbles"></div>

<div class="hero">
  <h1>400 C√¢u Ti·∫øng Anh D·∫°y Con üåü</h1>
  <p style="margin-top: 10px; opacity: 0.8;">H·ªá th·ªëng AI chuy√™n nghi·ªáp t·ª´ NgocHieuPC</p>
</div>

<div class="level-wrap" id="levelSelector">
  <button class="lvl-btn active" data-lvl="all">üåà T·∫•t c·∫£ tr√¨nh ƒë·ªô</button>
  <button class="lvl-btn" data-lvl="basic">üë∂ C∆° b·∫£n</button>
  <button class="lvl-btn" data-lvl="inter">üë¶ Trung b√¨nh</button>
  <button class="lvl-btn" data-lvl="adv">üéì N√¢ng cao</button>
</div>

<div class="search-wrap">
  <span class="search-icon">üîç</span>
  <input type="text" id="search" placeholder="T√¨m c√¢u ti·∫øng Anh ho·∫∑c Vi·ªát...">
  <div id="search-count" style="margin-top: 10px; font-size: 13px; color: var(--muted); text-align: center;"></div>
</div>

<div class="tabs-wrap" id="tabs">
  <button class="tab-btn active" data-part="-1">üìö 400 C√¢u</button>
  <button class="tab-btn" data-part="ai">ü§ñ AI Random 100</button>
  <button class="tab-btn" data-part="chat">üè´ Giao Ti·∫øp AI</button>
</div>

<main id="main"></main>
<div id="empty" style="display:none; text-align:center; padding: 50px; color:var(--muted);">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o ph√π h·ª£p.</div>

<button id="back-top">‚Üë</button>

<footer>
  D√†nh t·∫∑ng b√© y√™u h·ªçc t·∫≠p m·ªói ng√†y ‚ù§Ô∏è<br>
  <div class="creator-info">
    Created by: NgocHieuPC - Mobile: 0766.39.6699 / Zalo: 0908923886
  </div>
</footer>

<script>
// --- DATA G·ªêC ---
const DATA_RAW = [{"name": "Ph·∫ßn 1", "title": "Ch√†o H·ªèi & Sinh Ho·∫°t", "color": "#FF6B6B", "icon": "üåÖ", "topics": [{"name": "Ch√†o h·ªèi", "icon": "üëã", "sentences": [{"stt": 1, "en": "Good morning, honey!", "vi": "Ch√†o bu·ªïi s√°ng con y√™u!"}, {"stt": 2, "en": "Did you sleep well?", "vi": "Con ng·ªß ngon kh√¥ng?"}, {"stt": 3, "en": "Give me a hug!", "vi": "√îm m·∫π/ba m·ªôt c√°i n√†o!"}, {"stt": 4, "en": "See you later!", "vi": "H·∫πn g·∫∑p con l√°t n·ªØa nh√©!"}, {"stt": 5, "en": "Have a nice day!", "vi": "Ch√∫c con m·ªôt ng√†y vui v·∫ª!"}, {"stt": 6, "en": "Hello, how are you?", "vi": "Ch√†o con, con th·∫ø n√†o?"}, {"stt": 7, "en": "I'm home!", "vi": "M·∫π/Ba v·ªÅ r·ªìi ƒë√¢y!"}, {"stt": 8, "en": "Say goodbye to Grandma.", "vi": "Ch√†o t·∫°m bi·ªát b√† ƒëi con."}, {"stt": 9, "en": "Wave your hand!", "vi": "V·∫´y tay ch√†o ƒëi n√†o!"}, {"stt": 10, "en": "Welcome home!", "vi": "M·ª´ng con v·ªÅ nh√†!"}]}, {"name": "M√†u s·∫Øc", "icon": "üé®", "sentences": [{"stt": 11, "en": "What color is this?", "vi": "ƒê√¢y l√† m√†u g√¨?"}, {"stt": 12, "en": "It‚Äôs red.", "vi": "N√≥ m√†u ƒë·ªè."}, {"stt": 13, "en": "Do you like blue?", "vi": "Con c√≥ th√≠ch m√†u xanh d∆∞∆°ng kh√¥ng?"}, {"stt": 14, "en": "Find something green.", "vi": "H√£y t√¨m th·ª© g√¨ ƒë√≥ m√†u xanh l√° ƒëi."}, {"stt": 15, "en": "The sky is blue.", "vi": "B·∫ßu tr·ªùi m√†u xanh."}, {"stt": 16, "en": "Look at the yellow sun.", "vi": "Nh√¨n √¥ng m·∫∑t tr·ªùi m√†u v√†ng k√¨a."}, {"stt": 17, "en": "Point to the pink flower.", "vi": "Ch·ªâ v√†o b√¥ng hoa m√†u h·ªìng ƒëi."}, {"stt": 18, "en": "Mix red and white to get pink.", "vi": "Tr·ªôn ƒë·ªè v√† tr·∫Øng s·∫Ω ra m√†u h·ªìng."}, {"stt": 19, "en": "Your shirt is orange.", "vi": "√Åo c·ªßa con m√†u cam."}, {"stt": 20, "en": "I love this purple balloon.", "vi": "M·∫π th√≠ch qu·∫£ b√≥ng m√†u t√≠m n√†y."}]}, {"name": "ƒÇn u·ªëng", "icon": "üçΩÔ∏è", "sentences": [{"stt": 21, "en": "Are you hungry?", "vi": "Con c√≥ ƒë√≥i kh√¥ng?"}, {"stt": 22, "en": "It‚Äôs time for breakfast.", "vi": "ƒê·∫øn gi·ªù ƒÉn s√°ng r·ªìi."}, {"stt": 23, "en": "Sit down, please.", "vi": "Con ng·ªìi xu·ªëng ƒëi."}, {"stt": 24, "en": "Wash your hands before eating.", "vi": "R·ª≠a tay tr∆∞·ªõc khi ƒÉn nh√©."}, {"stt": 25, "en": "Enjoy your meal!", "vi": "Ch√∫c con ƒÉn ngon mi·ªáng!"}, {"stt": 26, "en": "Is it yummy?", "vi": "C√≥ ngon kh√¥ng con?"}, {"stt": 27, "en": "Do you want some milk?", "vi": "Con mu·ªën u·ªëng s·ªØa kh√¥ng?"}, {"stt": 28, "en": "Careful, it‚Äôs hot!", "vi": "C·∫©n th·∫≠n, n√≥ng ƒë·∫•y!"}, {"stt": 29, "en": "Finish your bowl.", "vi": "ƒÇn h·∫øt b√°t c·ªßa con ƒëi nh√©."}, {"stt": 30, "en": "No more? Are you full?", "vi": "Kh√¥ng ƒÉn n·ªØa √†? Con no r·ªìi sao?"}]}, {"name": "Hoa qu·∫£", "icon": "üçé", "sentences": [{"stt": 31, "en": "What fruit is this?", "vi": "ƒê√¢y l√† qu·∫£ g√¨?"}, {"stt": 32, "en": "It‚Äôs an apple.", "vi": "ƒê√≥ l√† m·ªôt qu·∫£ t√°o."}, {"stt": 33, "en": "Do you want a banana?", "vi": "Con mu·ªën ƒÉn chu·ªëi kh√¥ng?"}, {"stt": 34, "en": "The watermelon is sweet.", "vi": "D∆∞a h·∫•u ng·ªçt l·∫Øm."}, {"stt": 35, "en": "Peeling an orange.", "vi": "ƒêang b√≥c v·ªè cam n√†y."}, {"stt": 36, "en": "Grapes are small and round.", "vi": "Nh·ªØng qu·∫£ nho nh·ªè v√† tr√≤n."}, {"stt": 37, "en": "I like strawberries.", "vi": "M·∫π/Con th√≠ch d√¢u t√¢y."}, {"stt": 38, "en": "Do you want some juice?", "vi": "Con mu·ªën u·ªëng ch√∫t n∆∞·ªõc √©p kh√¥ng?"}, {"stt": 39, "en": "Mango is yellow and sweet.", "vi": "Xo√†i m√†u v√†ng v√† ng·ªçt."}, {"stt": 40, "en": "Eat your fruit, honey.", "vi": "ƒÇn tr√°i c√¢y ƒëi con y√™u."}]}, {"name": "Con v·∫≠t", "icon": "üêæ", "sentences": [{"stt": 41, "en": "Look! A little cat.", "vi": "Nh√¨n k√¨a! M·ªôt con m√®o nh·ªè."}, {"stt": 42, "en": "What does the dog say?", "vi": "Con ch√≥ k√™u th·∫ø n√†o nh·ªâ?"}, {"stt": 43, "en": "Woof woof!", "vi": "G√¢u g√¢u!"}, {"stt": 44, "en": "The bird is flying.", "vi": "Con chim ƒëang bay k√¨a."}, {"stt": 45, "en": "Do you like monkeys?", "vi": "Con c√≥ th√≠ch kh·ªâ kh√¥ng?"}, {"stt": 46, "en": "Elephant has a long trunk.", "vi": "Con voi c√≥ c√°i v√≤i d√†i."}, {"stt": 47, "en": "The duck says quack.", "vi": "Con v·ªãt k√™u qu·∫°c qu·∫°c."}, {"stt": 48, "en": "Look at the butterfly.", "vi": "Nh√¨n con b∆∞·ªõm k√¨a."}, {"stt": 49, "en": "A cow gives us milk.", "vi": "Con b√≤ cho ch√∫ng ta s·ªØa."}, {"stt": 50, "en": "The rabbit is jumping.", "vi": "Con th·ªè ƒëang nh·∫£y k√¨a."}]}, {"name": "ƒê√°nh rƒÉng", "icon": "ü¶∑", "sentences": [{"stt": 51, "en": "Time to brush your teeth.", "vi": "ƒê·∫øn gi·ªù ƒë√°nh rƒÉng r·ªìi."}, {"stt": 52, "en": "Squeeze the toothpaste.", "vi": "L·∫•y kem ƒë√°nh rƒÉng n√†o."}, {"stt": 53, "en": "Brush up and down.", "vi": "ƒê√°nh rƒÉng l√™n v√† xu·ªëng nh√©."}, {"stt": 54, "en": "Rinse your mouth.", "vi": "S√∫c mi·ªáng ƒëi con."}, {"stt": 55, "en": "Spit it out.", "vi": "Nh·ªï ra ƒëi con."}, {"stt": 56, "en": "Your teeth are so white.", "vi": "RƒÉng con tr·∫Øng qu√°."}, {"stt": 57, "en": "Don't swallow the water.", "vi": "ƒê·ª´ng nu·ªët n∆∞·ªõc nh√©."}, {"stt": 58, "en": "Use your toothbrush.", "vi": "D√πng b√†n ch·∫£i c·ªßa con n√†o."}, {"stt": 59, "en": "Brush the back teeth too.", "vi": "ƒê√°nh c·∫£ rƒÉng h√†m n·ªØa nh√©."}, {"stt": 60, "en": "All done!", "vi": "Xong r·ªìi!"}]}, {"name": "V·ªá sinh", "icon": "üßº", "sentences": [{"stt": 61, "en": "Let‚Äôs take a bath.", "vi": "ƒêi t·∫Øm th√¥i n√†o."}, {"stt": 62, "en": "The water is warm.", "vi": "N∆∞·ªõc ·∫•m l·∫Øm."}, {"stt": 63, "en": "Where is the soap?", "vi": "X√† ph√≤ng ƒë√¢u r·ªìi nh·ªâ?"}, {"stt": 64, "en": "Dry your hair.", "vi": "Lau kh√¥ t√≥c ƒëi con."}, {"stt": 65, "en": "Wash your face.", "vi": "R·ª≠a m·∫∑t ƒëi n√†o."}, {"stt": 66, "en": "Scrub your back.", "vi": "K·ª≥ l∆∞ng ƒëi con."}, {"stt": 67, "en": "Play with the bubbles.", "vi": "Ch∆°i v·ªõi bong b√≥ng n√†o."}, {"stt": 68, "en": "Put on your pajamas.", "vi": "M·∫∑c ƒë·ªì ng·ªß v√†o n√†o."}, {"stt": 69, "en": "Use the towel.", "vi": "D√πng khƒÉn t·∫Øm ƒëi con."}, {"stt": 70, "en": "You smell so good.", "vi": "Con th∆°m qu√°."}]}, {"name": "C·∫£m x√∫c", "icon": "üòä", "sentences": [{"stt": 71, "en": "Are you happy?", "vi": "Con c√≥ ƒëang vui kh√¥ng?"}, {"stt": 72, "en": "Don‚Äôt be sad.", "vi": "ƒê·ª´ng bu·ªìn nh√©."}, {"stt": 73, "en": "Why are you crying?", "vi": "Sao con l·∫°i kh√≥c?"}, {"stt": 74, "en": "Are you scared?", "vi": "Con c√≥ s·ª£ kh√¥ng?"}, {"stt": 75, "en": "It‚Äôs okay, I‚Äôm here.", "vi": "·ªîn th√¥i, c√≥ m·∫π/ba ·ªü ƒë√¢y r·ªìi."}, {"stt": 76, "en": "Are you angry?", "vi": "Con ƒëang gi·∫≠n √†?"}, {"stt": 77, "en": "Take a deep breath.", "vi": "H√≠t m·ªôt h∆°i th·∫≠t s√¢u n√†o."}, {"stt": 78, "en": "Give me a smile!", "vi": "C∆∞·ªùi v·ªõi m·∫π/ba m·ªôt c√°i n√†o!"}, {"stt": 79, "en": "You look surprised.", "vi": "Tr√¥ng con c√≥ v·∫ª ng·∫°c nhi√™n qu√°."}, {"stt": 80, "en": "I love you so much.", "vi": "M·∫π/Ba y√™u con r·∫•t nhi·ªÅu."}]}, {"name": "Gi√∫p ƒë·ª°", "icon": "ü§ù", "sentences": [{"stt": 81, "en": "Can you help me?", "vi": "Con gi√∫p m·∫π/ba m·ªôt tay nh√©?"}, {"stt": 82, "en": "Give me the remote, please.", "vi": "L·∫•y gi√∫p m·∫π c√°i ƒëi·ªÅu khi·ªÉn v·ªõi."}, {"stt": 83, "en": "Help me clean the table.", "vi": "Gi√∫p m·∫π lau b√†n n√†o."}, {"stt": 84, "en": "Can you open the door?", "vi": "Con m·ªü c·ª≠a gi√∫p m·∫π ƒë∆∞·ª£c kh√¥ng?"}, {"stt": 85, "en": "Pick up your toys.", "vi": "Nh·∫∑t ƒë·ªì ch∆°i c·ªßa con l√™n."}, {"stt": 86, "en": "Put this in the bin.", "vi": "B·ªè c√°i n√†y v√†o th√πng r√°c ƒëi."}, {"stt": 87, "en": "You are so helpful.", "vi": "Con th·∫≠t l√† bi·∫øt gi√∫p ƒë·ª°."}, {"stt": 88, "en": "Hold this for me.", "vi": "C·∫ßm c√°i n√†y gi√∫p m·∫π nh√©."}, {"stt": 89, "en": "Thank you for helping.", "vi": "C·∫£m ∆°n con ƒë√£ gi√∫p ƒë·ª°."}, {"stt": 90, "en": "Let's do it together.", "vi": "M√¨nh c√πng l√†m nh√©."}]}]}, {"name": "Ph·∫ßn 2", "title": "Khen Ng·ª£i & Tr∆∞·ªùng H·ªçc", "color": "#00BCD4", "icon": "üè´", "topics": [{"name": "Khen ng·ª£i", "icon": "‚≠ê", "sentences": [{"stt": 91, "en": "Good job!", "vi": "L√†m t·ªët l·∫Øm!"}, {"stt": 92, "en": "Well done!", "vi": "Gi·ªèi l·∫Øm!"}, {"stt": 93, "en": "You are so smart.", "vi": "Con th√¥ng minh qu√°."}, {"stt": 94, "en": "I‚Äôm proud of you.", "vi": "M·∫π/Ba t·ª± h√†o v·ªÅ con."}, {"stt": 95, "en": "High five!", "vi": "ƒê·∫≠p tay c√°i n√†o!"}, {"stt": 96, "en": "That‚Äôs a great idea.", "vi": "ƒê√≥ l√† m·ªôt √Ω t∆∞·ªüng tuy·ªát v·ªùi."}, {"stt": 97, "en": "You did it!", "vi": "Con l√†m ƒë∆∞·ª£c r·ªìi!"}, {"stt": 98, "en": "Keep trying!", "vi": "Ti·∫øp t·ª•c c·ªë g·∫Øng nh√©!"}, {"stt": 99, "en": "Beautiful drawing!", "vi": "B·ª©c tranh ƒë·∫πp qu√°!"}, {"stt": 100, "en": "You are a big boy/girl!", "vi": "Con ƒë√∫ng l√† m·ªôt c·∫≠u b√©/c√¥ b√© l·ªõn r·ªìi!"}]}, {"name": "M·∫∑c ƒë·ªì", "icon": "üëï", "sentences": [{"stt": 101, "en": "Let‚Äôs get dressed!", "vi": "Ch√∫ng ta m·∫∑c qu·∫ßn √°o n√†o!"}, {"stt": 102, "en": "Choose your t-shirt.", "vi": "Ch·ªçn √°o thun c·ªßa con ƒëi."}, {"stt": 103, "en": "Put on your socks.", "vi": "ƒêi t·∫•t (v·ªõ) v√†o n√†o."}, {"stt": 104, "en": "Your shorts are here.", "vi": "Qu·∫ßn ƒë√πi c·ªßa con ·ªü ƒë√¢y."}, {"stt": 105, "en": "Button up your shirt.", "vi": "C√†i c√∫c √°o c·ªßa con l·∫°i."}, {"stt": 106, "en": "Zip up your jacket.", "vi": "K√©o kh√≥a √°o kho√°c l√™n."}, {"stt": 107, "en": "Where are your shoes?", "vi": "Gi√†y c·ªßa con ƒë√¢u r·ªìi?"}, {"stt": 108, "en": "Tie your shoelaces.", "vi": "Bu·ªôc d√¢y gi√†y ƒëi con."}, {"stt": 109, "en": "Take off your hat.", "vi": "C·ªüi m≈© (n√≥n) ra n√†o."}, {"stt": 110, "en": "You look beautiful!", "vi": "Tr√¥ng con th·∫≠t xinh ƒë·∫πp!"}]}, {"name": "S·ª©c kh·ªèe", "icon": "üíä", "sentences": [{"stt": 111, "en": "Are you okay?", "vi": "Con c√≥ sao kh√¥ng?"}, {"stt": 112, "en": "Show me where it hurts.", "vi": "Ch·ªâ cho m·∫π/ba ch·ªó b·ªã ƒëau."}, {"stt": 113, "en": "My head hurts.", "vi": "Con b·ªã ƒëau ƒë·∫ßu."}, {"stt": 114, "en": "I have a cough.", "vi": "Con b·ªã ho."}, {"stt": 115, "en": "I have a runny nose.", "vi": "Con b·ªã s·ªï m≈©i."}, {"stt": 116, "en": "Let‚Äôs take your temperature.", "vi": "Ch√∫ng ta ƒëo nhi·ªát ƒë·ªô nh√©."}, {"stt": 117, "en": "Drink some water.", "vi": "U·ªëng m·ªôt ch√∫t n∆∞·ªõc ƒëi con."}, {"stt": 118, "en": "You need to rest.", "vi": "Con c·∫ßn ngh·ªâ ng∆°i."}, {"stt": 119, "en": "We are going to see a doctor.", "vi": "Ch√∫ng ta ƒëi g·∫∑p b√°c sƒ© nh√©."}, {"stt": 120, "en": "You will feel better soon.", "vi": "Con s·∫Ω s·ªõm th·∫•y kh·ªèe h∆°n th√¥i."}]}, {"name": "Gi·ªù ch∆°i", "icon": "üéÆ", "sentences": [{"stt": 121, "en": "What do you want to play?", "vi": "Con mu·ªën ch∆°i g√¨?"}, {"stt": 122, "en": "Let‚Äôs play with blocks.", "vi": "Ch√∫ng m√¨nh ch∆°i x·∫øp h√¨nh nh√©."}, {"stt": 123, "en": "It‚Äôs your turn.", "vi": "ƒê·∫øn l∆∞·ª£t con ƒë·∫•y."}, {"stt": 124, "en": "Share the toys, please.", "vi": "Chia s·∫ª ƒë·ªì ch∆°i ƒëi con."}, {"stt": 125, "en": "Don‚Äôt push!", "vi": "ƒê·ª´ng x√¥ ƒë·∫©y!"}, {"stt": 126, "en": "Let‚Äôs take turns.", "vi": "Ch√∫ng m√¨nh thay phi√™n nhau nh√©."}, {"stt": 127, "en": "You missed it.", "vi": "Con tr∆∞·ª£t r·ªìi."}, {"stt": 128, "en": "Try again!", "vi": "Th·ª≠ l·∫°i l·∫ßn n·ªØa n√†o!"}, {"stt": 129, "en": "Can I play with you?", "vi": "Cho t·ªõ ch∆°i c√πng v·ªõi ƒë∆∞·ª£c kh√¥ng?"}, {"stt": 130, "en": "That was fun!", "vi": "Ch∆°i vui qu√°!"}]}, {"name": "Thi√™n nhi√™n", "icon": "üå≥", "sentences": [{"stt": 131, "en": "How‚Äôs the weather today?", "vi": "Th·ªùi ti·∫øt h√¥m nay th·∫ø n√†o?"}, {"stt": 132, "en": "It‚Äôs sunny.", "vi": "Tr·ªùi n·∫Øng."}, {"stt": 133, "en": "It‚Äôs raining outside.", "vi": "B√™n ngo√†i tr·ªùi ƒëang m∆∞a."}, {"stt": 134, "en": "Look at the clouds!", "vi": "Nh√¨n nh·ªØng ƒë√°m m√¢y k√¨a!"}, {"stt": 135, "en": "It‚Äôs windy.", "vi": "Tr·ªùi c√≥ gi√≥."}, {"stt": 136, "en": "The sky is colorful.", "vi": "B·∫ßu tr·ªùi th·∫≠t nhi·ªÅu m√†u s·∫Øc."}, {"stt": 137, "en": "I can see a rainbow.", "vi": "Con th·∫•y m·ªôt c·∫ßu v·ªìng."}, {"stt": 138, "en": "Look, a tree!", "vi": "Nh√¨n k√¨a, m·ªôt c√°i c√¢y!"}, {"stt": 139, "en": "The leaves are falling.", "vi": "L√° ƒëang r∆°i."}, {"stt": 140, "en": "Nature is beautiful.", "vi": "Thi√™n nhi√™n th·∫≠t ƒë·∫πp."}]}, {"name": "Gi·ªù ng·ªß", "icon": "üåô", "sentences": [{"stt": 141, "en": "Are you tired?", "vi": "Con c√≥ m·ªát kh√¥ng?"}, {"stt": 142, "en": "Time to go upstairs.", "vi": "ƒê·∫øn gi·ªù l√™n l·∫ßu r·ªìi."}, {"stt": 143, "en": "Read me a story.", "vi": "ƒê·ªçc cho con nghe m·ªôt c√¢u chuy·ªán."}, {"stt": 144, "en": "Turn off the lights.", "vi": "T·∫Øt ƒë√®n ƒëi con."}, {"stt": 145, "en": "Give me a goodnight kiss.", "vi": "H√¥n ch√∫c ng·ªß ngon m·∫π/ba n√†o."}, {"stt": 146, "en": "Sleep well, honey.", "vi": "Ng·ªß ngon nh√©, con y√™u."}, {"stt": 147, "en": "Sleep tight.", "vi": "Ng·ªß th·∫≠t say nh√©."}, {"stt": 148, "en": "See you in the morning.", "vi": "H·∫πn g·∫∑p con v√†o bu·ªïi s√°ng."}, {"stt": 149, "en": "Dream of me.", "vi": "M∆° v·ªÅ m·∫π/ba nh√©."}, {"stt": 150, "en": "Good night and sweet dreams.", "vi": "Ch√∫c con ng·ªß ngon v√† c√≥ nh·ªØng gi·∫•c m∆° ƒë·∫πp."}]}, {"name": "Tr∆∞·ªùng h·ªçc", "icon": "üìö", "sentences": [{"stt": 151, "en": "Where is your backpack?", "vi": "Balo c·ªßa con ƒë√¢u r·ªìi?"}, {"stt": 152, "en": "Is your notebook in it?", "vi": "C√≥ v·ªü c·ªßa con trong ƒë√≥ kh√¥ng?"}, {"stt": 153, "en": "Don‚Äôt forget your lunchbox.", "vi": "ƒê·ª´ng qu√™n h·ªôp c∆°m nh√©."}, {"stt": 154, "en": "Have a great day at school!", "vi": "Ch√∫c con m·ªôt ng√†y tuy·ªát v·ªùi ·ªü tr∆∞·ªùng!"}, {"stt": 155, "en": "What did you learn today?", "vi": "H√¥m nay con ƒë√£ h·ªçc g√¨?"}, {"stt": 156, "en": "Listen to your teacher.", "vi": "H√£y nghe l·ªùi c√¥ gi√°o nh√©."}, {"stt": 157, "en": "Play with your friends.", "vi": "H√£y ch∆°i c√πng c√°c b·∫°n nh√©."}, {"stt": 158, "en": "It's time to go home.", "vi": "ƒê·∫øn l√∫c v·ªÅ nh√† r·ªìi."}, {"stt": 159, "en": "Put your bag away.", "vi": "C·∫•t t√∫i c·ªßa con ƒëi."}, {"stt": 160, "en": "Do you have homework?", "vi": "Con c√≥ b√†i t·∫≠p v·ªÅ nh√† kh√¥ng?"}]}, {"name": "Ph√≤ng kh√°ch", "icon": "üõãÔ∏è", "sentences": [{"stt": 161, "en": "Sit on the sofa.", "vi": "Ng·ªìi l√™n gh·∫ø sofa ƒëi con."}, {"stt": 162, "en": "Turn down the volume.", "vi": "Cho nh·ªè ti·∫øng l·∫°i ƒëi con."}, {"stt": 163, "en": "Don't jump on the chair.", "vi": "ƒê·ª´ng nh·∫£y l√™n gh·∫ø nh√©."}, {"stt": 164, "en": "Put the remote back.", "vi": "C·∫•t ƒëi·ªÅu khi·ªÉn l·∫°i ch·ªó c≈© ƒëi."}, {"stt": 165, "en": "Let's watch a movie.", "vi": "C√πng xem phim n√†o."}, {"stt": 166, "en": "Close the curtains.", "vi": "Kh√©p r√®m l·∫°i ƒëi con."}, {"stt": 167, "en": "Turn on the fan.", "vi": "B·∫≠t qu·∫°t l√™n ƒëi con."}, {"stt": 168, "en": "It's very cozy here.", "vi": "·ªû ƒë√¢y th·∫≠t ·∫•m c√∫ng."}, {"stt": 169, "en": "Help me fold the clothes.", "vi": "Gi√∫p m·∫π g·∫•p qu·∫ßn √°o nh√©."}, {"stt": 170, "en": "Keep the room tidy.", "vi": "Gi·ªØ ph√≤ng ngƒÉn n·∫Øp nh√©."}]}, {"name": "B·∫øp n√∫c", "icon": "üç≥", "sentences": [{"stt": 171, "en": "Breakfast is ready.", "vi": "B·ªØa s√°ng s·∫µn s√†ng r·ªìi."}, {"stt": 172, "en": "Set the table, please.", "vi": "D·ªçn b√†n gi√∫p m·∫π nh√©."}, {"stt": 173, "en": "Don't touch the stove.", "vi": "ƒê·ª´ng ch·∫°m v√†o b·∫øp nh√©."}, {"stt": 174, "en": "It's very hot!", "vi": "N√≥ r·∫•t n√≥ng ƒë·∫•y!"}, {"stt": 175, "en": "Put the dishes in the sink.", "vi": "Cho b√°t ƒëƒ©a v√†o b·ªìn r·ª≠a ƒëi."}, {"stt": 176, "en": "Can you pass me a spoon?", "vi": "Con ƒë∆∞a m·∫π c√°i th√¨a ƒë∆∞·ª£c kh√¥ng?"}, {"stt": 177, "en": "Let's bake a cake.", "vi": "C√πng l√†m b√°nh ng·ªçt n√†o."}, {"stt": 178, "en": "Smell the cookies.", "vi": "Ng·ª≠i m√πi b√°nh quy n√†y."}, {"stt": 179, "en": "Wipe the table.", "vi": "Lau b√†n ƒëi con."}, {"stt": 180, "en": "Good help in the kitchen!", "vi": "Ph·ª• b·∫øp gi·ªèi qu√°!"}]}]}, {"name": "Ph·∫ßn 3", "title": "Kh√°m Ph√° Xung Quanh", "color": "#4CAF50", "icon": "üåø", "topics": [{"name": "L√†m v∆∞·ªùn", "icon": "üå±", "sentences": [{"stt": 181, "en": "Let's water the plants.", "vi": "C√πng t∆∞·ªõi c√¢y n√†o."}, {"stt": 182, "en": "Look at this flower.", "vi": "Nh√¨n b√¥ng hoa n√†y ƒëi."}, {"stt": 183, "en": "Don't pick the flowers.", "vi": "ƒê·ª´ng h√°i hoa nh√©."}, {"stt": 184, "en": "There is a butterfly!", "vi": "C√≥ m·ªôt con b∆∞·ªõm k√¨a!"}, {"stt": 185, "en": "The grass is green.", "vi": "C·ªè m√†u xanh l√°."}, {"stt": 186, "en": "Dig a small hole.", "vi": "ƒê√†o m·ªôt c√°i l·ªó nh·ªè n√†o."}, {"stt": 187, "en": "Plant the seeds.", "vi": "Gieo h·∫°t gi·ªëng ƒëi con."}, {"stt": 188, "en": "Watch it grow.", "vi": "Nh√¨n n√≥ l·ªõn l√™n n√†y."}, {"stt": 189, "en": "Wear your sun hat.", "vi": "ƒê·ªôi m≈© che n·∫Øng v√†o."}, {"stt": 190, "en": "Fresh air is good.", "vi": "Kh√¥ng kh√≠ trong l√†nh th·∫≠t t·ªët."}]}, {"name": "Si√™u th·ªã", "icon": "üõí", "sentences": [{"stt": 191, "en": "Stay close to the cart.", "vi": "ƒêi g·∫ßn xe ƒë·∫©y nh√©."}, {"stt": 192, "en": "Don't run in the store.", "vi": "ƒê·ª´ng ch·∫°y trong c·ª≠a h√†ng."}, {"stt": 193, "en": "Do we need eggs?", "vi": "M√¨nh c√≥ c·∫ßn mua tr·ª©ng kh√¥ng?"}, {"stt": 194, "en": "Put it in the basket.", "vi": "Cho n√≥ v√†o gi·ªè ƒëi con."}, {"stt": 195, "en": "One bag of apples.", "vi": "M·ªôt t√∫i t√°o nh√©."}, {"stt": 196, "en": "Let's wait in line.", "vi": "C√πng x·∫øp h√†ng n√†o."}, {"stt": 197, "en": "Don't touch the glass.", "vi": "ƒê·ª´ng ch·∫°m v√†o k√≠nh nh√©."}, {"stt": 198, "en": "Can you find the milk?", "vi": "Con t√¨m th·∫•y s·ªØa kh√¥ng?"}, {"stt": 199, "en": "Carry the small bag.", "vi": "X√°ch c√°i t√∫i nh·ªè n√†y nh√©."}, {"stt": 200, "en": "Thank the cashier.", "vi": "C·∫£m ∆°n ng∆∞·ªùi thu ng√¢n ƒëi con."}]}, {"name": "ƒê·ªçc s√°ch", "icon": "üìñ", "sentences": [{"stt": 201, "en": "Pick a book to read.", "vi": "Ch·ªçn m·ªôt cu·ªën s√°ch ƒë·ªÉ ƒë·ªçc n√†o."}, {"stt": 202, "en": "Look at the pictures.", "vi": "Nh√¨n v√†o nh·ªØng b·ª©c tranh n√†y."}, {"stt": 203, "en": "What happens next?", "vi": "Chuy·ªán g√¨ x·∫£y ra ti·∫øp theo nh·ªâ?"}, {"stt": 204, "en": "Turn the page gently.", "vi": "L·∫≠t trang s√°ch nh·∫π nh√†ng th√¥i."}, {"stt": 205, "en": "Point to the rabbit.", "vi": "Ch·ªâ v√†o con th·ªè ƒëi."}, {"stt": 206, "en": "Repeat after me.", "vi": "Nh·∫Øc l·∫°i theo m·∫π nh√©."}, {"stt": 207, "en": "You are a good reader.", "vi": "Con ƒë·ªçc s√°ch gi·ªèi qu√°."}, {"stt": 208, "en": "Once upon a time...", "vi": "Ng√†y x·ª≠a ng√†y x∆∞a..."}, {"stt": 209, "en": "The end of the story.", "vi": "K·∫øt th√∫c c√¢u chuy·ªán r·ªìi."}, {"stt": 210, "en": "Put the book back.", "vi": "C·∫•t s√°ch l·∫°i ch·ªó c≈© nh√©."}]}, {"name": "V·∫≠n ƒë·ªông", "icon": "üèÉ", "sentences": [{"stt": 211, "en": "Let's go for a walk.", "vi": "ƒêi d·∫°o th√¥i n√†o."}, {"stt": 212, "en": "Jump as high as you can.", "vi": "Nh·∫£y cao h·∫øt m·ª©c c√≥ th·ªÉ n√†o."}, {"stt": 213, "en": "Run to the tree.", "vi": "Ch·∫°y ƒë·∫øn c√°i c√¢y kia ƒëi."}, {"stt": 214, "en": "Can you kick the ball?", "vi": "Con c√≥ ƒë√° ƒë∆∞·ª£c b√≥ng kh√¥ng?"}, {"stt": 215, "en": "Follow me!", "vi": "ƒêi theo m·∫π/ba n√†o!"}, {"stt": 216, "en": "Stretch your arms.", "vi": "V∆∞∆°n vai (c√°nh tay) ra n√†o."}, {"stt": 217, "en": "Shake your legs.", "vi": "Rung ch√¢n ƒëi n√†o."}, {"stt": 218, "en": "Dance to the music.", "vi": "Nh·∫£y theo ƒëi·ªáu nh·∫°c n√†o."}, {"stt": 219, "en": "You are very fast!", "vi": "Con nhanh qu√°!"}, {"stt": 220, "en": "Catch the ball!", "vi": "B·∫Øt l·∫•y b√≥ng!"}]}, {"name": "An to√†n nh√†", "icon": "üè†", "sentences": [{"stt": 221, "en": "Stay away from the outlet.", "vi": "Tr√°nh xa ·ªï ƒëi·ªán ra nh√©."}, {"stt": 222, "en": "Don't climb on that.", "vi": "ƒê·ª´ng leo tr√®o l√™n ƒë√≥."}, {"stt": 223, "en": "The floor is slippery.", "vi": "S√†n nh√† tr∆°n l·∫Øm ƒë·∫•y."}, {"stt": 224, "en": "Watch your step.", "vi": "Nh√¨n ƒë∆∞·ªùng con ƒëi nh√©."}, {"stt": 225, "en": "Use the handrail.", "vi": "V·ªãn v√†o tay v·ªãn ƒëi con."}, {"stt": 226, "en": "Keep the door closed.", "vi": "Gi·ªØ c·ª≠a ƒë√≥ng nh√©."}, {"stt": 227, "en": "Don't play with fire.", "vi": "ƒê·ª´ng ngh·ªãch l·ª≠a."}, {"stt": 228, "en": "It's dangerous!", "vi": "Nguy hi·ªÉm l·∫Øm ƒë·∫•y!"}, {"stt": 229, "en": "Come back here.", "vi": "Quay l·∫°i ƒë√¢y n√†o."}, {"stt": 230, "en": "Listen to my warning.", "vi": "H√£y nghe l·ªùi c·∫£nh b√°o c·ªßa m·∫π."}]}, {"name": "L·ªãch s·ª±", "icon": "üôè", "sentences": [{"stt": 241, "en": "Say please, sweetie.", "vi": "N√≥i \"l√†m ∆°n\" ƒëi con y√™u."}, {"stt": 242, "en": "Say thank you.", "vi": "N√≥i c·∫£m ∆°n ƒëi n√†o."}, {"stt": 243, "en": "You're welcome.", "vi": "Kh√¥ng c√≥ chi (ƒë√°p l·∫°i l·ªùi c·∫£m ∆°n)."}, {"stt": 244, "en": "Excuse me, please.", "vi": "Xin l·ªói, cho m·∫π/con ƒëi nh·ªù."}, {"stt": 245, "en": "I'm sorry.", "vi": "Con/m·∫π xin l·ªói."}, {"stt": 246, "en": "Can I have one, please?", "vi": "Cho con xin m·ªôt c√°i ƒë∆∞·ª£c kh√¥ng?"}, {"stt": 247, "en": "Wait for your turn.", "vi": "ƒê·ª£i ƒë·∫øn l∆∞·ª£t c·ªßa con nh√©."}, {"stt": 248, "en": "Knock on the door.", "vi": "G√µ c·ª≠a ƒëi con."}, {"stt": 249, "en": "Share with your friends.", "vi": "Chia s·∫ª v·ªõi c√°c b·∫°n nh√©."}, {"stt": 250, "en": "Good manners are important.", "vi": "Ph√©p l·ªãch s·ª± r·∫•t quan tr·ªçng."}]}, {"name": "D·ªçn d·∫πp", "icon": "üßπ", "sentences": [{"stt": 251, "en": "Clean up your mess.", "vi": "D·ªçn d·∫πp ƒë·ªëng b·ª´a b√£i c·ªßa con ƒëi."}, {"stt": 252, "en": "Put your toys away.", "vi": "C·∫•t ƒë·ªì ch∆°i ƒëi nh√©."}, {"stt": 253, "en": "Hang up your coat.", "vi": "Treo √°o kho√°c c·ªßa con l√™n."}, {"stt": 254, "en": "Put the trash in the bin.", "vi": "B·ªè r√°c v√†o th√πng ƒëi con."}, {"stt": 255, "en": "Help me tidy up.", "vi": "Gi√∫p m·∫π d·ªçn d·∫πp nh√©."}, {"stt": 256, "en": "Organize your books.", "vi": "S·∫Øp x·∫øp l·∫°i s√°ch c·ªßa con ƒëi."}, {"stt": 257, "en": "Sweep the floor.", "vi": "Qu√©t nh√† ƒëi con."}, {"stt": 258, "en": "Good job cleaning!", "vi": "Con d·ªçn d·∫πp gi·ªèi qu√°!"}, {"stt": 259, "en": "The room is clean now.", "vi": "CƒÉn ph√≤ng s·∫°ch r·ªìi ƒë·∫•y."}, {"stt": 260, "en": "Let's keep it this way.", "vi": "H√£y gi·ªØ g√¨n nh∆∞ th·∫ø n√†y nh√©."}]}, {"name": "Giao th√¥ng", "icon": "üöó", "sentences": [{"stt": 271, "en": "Hold my hand tightly.", "vi": "N·∫Øm ch·∫∑t tay m·∫π/ba nh√©."}, {"stt": 272, "en": "Look both ways.", "vi": "Nh√¨n c·∫£ hai ph√≠a nh√©."}, {"stt": 273, "en": "Wait for the green light.", "vi": "ƒê·ª£i ƒë√®n xanh nh√©."}, {"stt": 274, "en": "Walk on the sidewalk.", "vi": "ƒêi b·ªô tr√™n v·ªâa h√® nh√©."}, {"stt": 275, "en": "Don't run across.", "vi": "ƒê·ª´ng ch·∫°y bƒÉng qua ƒë∆∞·ªùng."}, {"stt": 276, "en": "Buckle your seatbelt.", "vi": "Th·∫Øt d√¢y an to√†n v√†o con."}, {"stt": 277, "en": "Sit quietly in the car.", "vi": "Ng·ªìi y√™n l·∫∑ng trong xe nh√©."}, {"stt": 278, "en": "The bus is coming.", "vi": "Xe bu√Ωt ƒëang ƒë·∫øn k√¨a."}, {"stt": 279, "en": "Watch out for cars!", "vi": "Coi ch·ª´ng √¥ t√¥ k√¨a!"}, {"stt": 280, "en": "Safety first!", "vi": "An to√†n l√† tr√™n h·∫øt!"}]}, {"name": "H·ªçc t·∫≠p", "icon": "‚úèÔ∏è", "sentences": [{"stt": 291, "en": "Where is your pencil?", "vi": "B√∫t ch√¨ c·ªßa con ƒë√¢u r·ªìi?"}, {"stt": 292, "en": "Use your eraser.", "vi": "D√πng c·ª•c t·∫©y c·ªßa con ƒëi."}, {"stt": 293, "en": "Draw a big circle.", "vi": "V·∫Ω m·ªôt h√¨nh tr√≤n l·ªõn n√†o."}, {"stt": 294, "en": "Color inside the lines.", "vi": "T√¥ m√†u b√™n trong c√°c ƒë∆∞·ªùng k·∫ª."}, {"stt": 295, "en": "Can you write your name?", "vi": "Con c√≥ vi·∫øt ƒë∆∞·ª£c t√™n m√¨nh kh√¥ng?"}, {"stt": 296, "en": "Study hard, honey.", "vi": "H·ªçc chƒÉm ch·ªâ nh√© con y√™u."}, {"stt": 297, "en": "Keep practicing.", "vi": "Ti·∫øp t·ª•c luy·ªán t·∫≠p nh√©."}, {"stt": 298, "en": "Do you understand?", "vi": "Con c√≥ hi·ªÉu kh√¥ng?"}, {"stt": 299, "en": "Ask me if you need help.", "vi": "H·ªèi m·∫π n·∫øu con c·∫ßn gi√∫p ƒë·ª°."}, {"stt": 300, "en": "Learning is fun!", "vi": "H·ªçc t·∫≠p th·∫≠t vui!"}]}]}, {"name": "Ph·∫ßn 4", "title": "Y√™u Th∆∞∆°ng & C·∫£m X√∫c", "color": "#E91E8C", "icon": "‚ù§Ô∏è", "topics": [{"name": "Gi√°c quan", "icon": "üëÅÔ∏è", "sentences": [{"stt": 301, "en": "Do you hear that?", "vi": "Con c√≥ nghe th·∫•y g√¨ kh√¥ng?"}, {"stt": 302, "en": "It smells like flowers.", "vi": "N√≥ c√≥ m√πi th∆°m nh∆∞ hoa v·∫≠y."}, {"stt": 303, "en": "Taste this strawberry.", "vi": "N·∫øm th·ª≠ qu·∫£ d√¢u t√¢y n√†y xem."}, {"stt": 304, "en": "It feels so soft.", "vi": "C·∫£m gi√°c th·∫≠t m·ªÅm m·∫°i."}, {"stt": 305, "en": "Look at that bright star!", "vi": "Nh√¨n ng√¥i sao s√°ng kia k√¨a!"}, {"stt": 306, "en": "Is it too loud?", "vi": "C√≥ b·ªã ·ªìn qu√° kh√¥ng con?"}, {"stt": 307, "en": "Close your eyes.", "vi": "Nh·∫Øm m·∫Øt l·∫°i ƒëi con."}, {"stt": 308, "en": "Open your mouth.", "vi": "H√° mi·ªáng ra n√†o."}, {"stt": 309, "en": "Can you touch your toes?", "vi": "Con c√≥ ch·∫°m ƒë∆∞·ª£c v√†o ng√≥n ch√¢n kh√¥ng?"}, {"stt": 310, "en": "Use your ears to listen.", "vi": "H√£y d√πng tai ƒë·ªÉ l·∫Øng nghe nh√©."}]}, {"name": "L·∫≠p k·∫ø ho·∫°ch", "icon": "üìÖ", "sentences": [{"stt": 311, "en": "Let's go to the zoo.", "vi": "Ch√∫ng m√¨nh ƒëi s·ªü th√∫ nh√©."}, {"stt": 312, "en": "What should we do today?", "vi": "H√¥m nay ch√∫ng ta n√™n l√†m g√¨ nh·ªâ?"}, {"stt": 313, "en": "We are going on a trip.", "vi": "Ch√∫ng ta s·∫Øp ƒëi du l·ªãch ƒë·∫•y."}, {"stt": 314, "en": "Pack your suitcase.", "vi": "X·∫øp ƒë·ªì v√†o vali ƒëi con."}, {"stt": 315, "en": "First we eat, then we play.", "vi": "ƒê·∫ßu ti√™n m√¨nh ƒÉn, sau ƒë√≥ m√¨nh ch∆°i."}, {"stt": 316, "en": "Are you ready to go?", "vi": "Con s·∫µn s√†ng ƒëi ch∆∞a?"}, {"stt": 317, "en": "It's time to leave.", "vi": "ƒê·∫øn l√∫c ph·∫£i ƒëi r·ªìi."}, {"stt": 318, "en": "Don't forget your hat.", "vi": "ƒê·ª´ng qu√™n m≈© c·ªßa con nh√©."}, {"stt": 319, "en": "This will be fun!", "vi": "Ch·∫Øc ch·∫Øn s·∫Ω vui l·∫Øm ƒë√¢y!"}, {"stt": 320, "en": "We have a busy day.", "vi": "Ch√∫ng ta c√≥ m·ªôt ng√†y b·∫≠n r·ªôn ƒë·∫•y."}]}, {"name": "Xin ph√©p", "icon": "üôã", "sentences": [{"stt": 331, "en": "Can I watch TV?", "vi": "Con c√≥ ƒë∆∞·ª£c xem tivi kh√¥ng?"}, {"stt": 332, "en": "May I go outside?", "vi": "Cho ph√©p con ra ngo√†i nh√©?"}, {"stt": 333, "en": "Ask your father first.", "vi": "H·ªèi ba con tr∆∞·ªõc ƒë√£ nh√©."}, {"stt": 334, "en": "Not right now.", "vi": "Kh√¥ng ph·∫£i l√∫c n√†y."}, {"stt": 335, "en": "Wait a minute.", "vi": "ƒê·ª£i m·ªôt l√°t nh√©."}, {"stt": 336, "en": "Is it okay if I play?", "vi": "Con ch∆°i c√≥ ƒë∆∞·ª£c kh√¥ng ·∫°?"}, {"stt": 337, "en": "Yes, you can.", "vi": "ƒê∆∞·ª£c ch·ª©, con c√≥ th·ªÉ."}, {"stt": 338, "en": "No, I'm sorry.", "vi": "Kh√¥ng ƒë∆∞·ª£c, m·∫π xin l·ªói."}, {"stt": 339, "en": "Thank you for asking.", "vi": "C·∫£m ∆°n con ƒë√£ xin ph√©p."}, {"stt": 340, "en": "Be a good boy/girl.", "vi": "H√£y l√† m·ªôt ƒë·ª©a tr·∫ª ngoan nh√©."}]}, {"name": "Kh√°m ph√°", "icon": "üîç", "sentences": [{"stt": 351, "en": "What is inside?", "vi": "C√≥ g√¨ b√™n trong th·∫ø nh·ªâ?"}, {"stt": 352, "en": "Let's find out!", "vi": "C√πng t√¨m hi·ªÉu n√†o!"}, {"stt": 353, "en": "Look under the table.", "vi": "Nh√¨n d∆∞·ªõi g·∫ßm b√†n xem."}, {"stt": 354, "en": "It's a mystery!", "vi": "Th·∫≠t l√† m·ªôt ƒëi·ªÅu b√≠ ·∫©n!"}, {"stt": 355, "en": "You are a little explorer.", "vi": "Con l√† m·ªôt nh√† th√°m hi·ªÉm nh·ªè."}, {"stt": 356, "en": "Be curious!", "vi": "H√£y lu√¥n t√≤ m√≤ nh√©!"}, {"stt": 357, "en": "Why does it work?", "vi": "T·∫°i sao n√≥ l·∫°i ho·∫°t ƒë·ªông nh·ªâ?"}, {"stt": 358, "en": "Use your imagination.", "vi": "H√£y d√πng tr√≠ t∆∞·ªüng t∆∞·ª£ng c·ªßa con."}, {"stt": 359, "en": "Discover new things.", "vi": "Kh√°m ph√° nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª n√†o."}, {"stt": 360, "en": "Science is cool!", "vi": "Khoa h·ªçc th·∫≠t th√∫ v·ªã!"}]}, {"name": "Y√™u th∆∞∆°ng", "icon": "üíï", "sentences": [{"stt": 371, "en": "I love you to the moon.", "vi": "M·∫π y√™u con v√¥ t·∫≠n."}, {"stt": 372, "en": "You are my sunshine.", "vi": "Con l√† √°nh n·∫Øng c·ªßa m·∫π."}, {"stt": 373, "en": "Give me a big hug.", "vi": "√îm m·∫π m·ªôt c√°i th·∫≠t ch·∫∑t n√†o."}, {"stt": 374, "en": "A kiss for you.", "vi": "M·ªôt n·ª• h√¥n cho con n√†y."}, {"stt": 375, "en": "I'm always here for you.", "vi": "M·∫π lu√¥n ·ªü ƒë√¢y b√™n con."}, {"stt": 376, "en": "You make me happy.", "vi": "Con l√†m m·∫π th·∫•y h·∫°nh ph√∫c."}, {"stt": 377, "en": "You are very special.", "vi": "Con r·∫•t ƒë·∫∑c bi·ªát."}, {"stt": 378, "en": "Hold my hand.", "vi": "N·∫Øm l·∫•y tay m·∫π n√†o."}, {"stt": 379, "en": "Let's cuddle.", "vi": "C√πng √¥m ·∫•p nhau n√†o."}, {"stt": 380, "en": "Sweet dreams, my love.", "vi": "Ng·ªß ngon nh√©, t√¨nh y√™u c·ªßa m·∫π."}]}, {"name": "Sinh nh·∫≠t", "icon": "üéÇ", "sentences": [{"stt": 381, "en": "Happy birthday to you!", "vi": "Ch√∫c m·ª´ng sinh nh·∫≠t con!"}, {"stt": 382, "en": "Blow out the candles.", "vi": "Th·ªïi n·∫øn ƒëi con."}, {"stt": 383, "en": "Make a wish!", "vi": "∆Ø·ªõc m·ªôt ƒëi·ªÅu ƒëi n√†o!"}, {"stt": 384, "en": "Open your presents.", "vi": "M·ªü qu√† c·ªßa con ƒëi."}, {"stt": 385, "en": "Do you like your cake?", "vi": "Con c√≥ th√≠ch b√°nh c·ªßa con kh√¥ng?"}, {"stt": 386, "en": "You are one year older!", "vi": "Con ƒë√£ l·ªõn th√™m m·ªôt tu·ªïi r·ªìi!"}, {"stt": 387, "en": "Let's sing a song.", "vi": "C√πng h√°t m·ªôt b√†i n√†o."}, {"stt": 388, "en": "Have a party!", "vi": "T·ªï ch·ª©c ti·ªác th√¥i n√†o!"}, {"stt": 389, "en": "All your friends are here.", "vi": "C√°c b·∫°n c·ªßa con ƒë·ªÅu ·ªü ƒë√¢y."}, {"stt": 390, "en": "Such a happy day!", "vi": "Th·∫≠t l√† m·ªôt ng√†y h·∫°nh ph√∫c!"}]}, {"name": "Chia tay", "icon": "ü§ó", "sentences": [{"stt": 391, "en": "Goodbye! See you soon.", "vi": "T·∫°m bi·ªát! H·∫πn g·∫∑p l·∫°i s·ªõm nh√©."}, {"stt": 392, "en": "Have a safe trip.", "vi": "Ch√∫c con th∆∞·ª£ng l·ªô b√¨nh an."}, {"stt": 393, "en": "Call me later.", "vi": "G·ªçi cho m·∫π sau nh√©."}, {"stt": 394, "en": "Give me a wave.", "vi": "V·∫´y tay ch√†o m·∫π n√†o."}, {"stt": 395, "en": "I will miss you.", "vi": "M·∫π s·∫Ω nh·ªõ con l·∫Øm."}, {"stt": 396, "en": "Take care!", "vi": "B·∫£o tr·ªçng nh√© con!"}, {"stt": 397, "en": "See you tomorrow morning.", "vi": "H·∫πn g·∫∑p con v√†o s√°ng mai."}, {"stt": 398, "en": "Don't be late.", "vi": "ƒê·ª´ng v·ªÅ mu·ªôn nh√©."}, {"stt": 399, "en": "Sleep well, bye bye!", "vi": "Ng·ªß ngon nh√©, t·∫°m bi·ªát!"}, {"stt": 400, "en": "I love you, bye!", "vi": "M·∫π y√™u con, t·∫°m bi·ªát!"}]}]}];

// --- AI LOGIC: G·∫ÆN LEVEL ---
const DATA = DATA_RAW.map(part => ({
  ...part,
  topics: part.topics.map(topic => ({
    ...topic,
    sentences: topic.sentences.map(s => {
      let lvl = "inter";
      const wordCount = s.en.split(' ').length;
      if (wordCount <= 4 || ["Ch√†o h·ªèi", "M√†u s·∫Øc", "Hoa qu·∫£", "Con v·∫≠t"].includes(topic.name)) lvl = "basic";
      else if (wordCount >= 8 || ["L·∫≠p k·∫ø ho·∫°ch", "Kh√°m ph√°", "Y√™u th∆∞∆°ng", "H·ªçc t·∫≠p"].includes(topic.name)) lvl = "adv";
      return { ...s, lvl };
    })
  }))
}));

const PART_COLORS = ["#FF6B6B","#00BCD4","#4CAF50","#E91E8C"];
const PART_GRADS = ["linear-gradient(135deg,#FF6B6B,#FF8E53)","linear-gradient(135deg,#00BCD4,#0097A7)","linear-gradient(135deg,#4CAF50,#2E7D32)","linear-gradient(135deg,#E91E8C,#AD1457)"];

let currentPart = -1;
let currentLevel = "all";
let searchQ = "";
let aiPool = [];
let currentDialog = null; // Bi·∫øn l∆∞u h·ªôi tho·∫°i hi·ªán t·∫°i
const synth = window.speechSynthesis;

// --- API FUNCTIONS FOR FETCHING REAL DATA ---
async function fetchRealEnglishSentences(count = 20) {
  try {
    // S·ª≠ d·ª•ng nhi·ªÅu API mi·ªÖn ph√≠ kh√°c nhau
    const apis = [
      // API 1: Quote Garden - L·∫•y c√°c c√¢u quote ng·∫´u nhi√™n
      async () => {
        const response = await fetch('https://quote-garden.onrender.com/api/v3/quotes/random');
        const data = await response.json();
        if (data && data.data && data.data[0]) {
          return [{
            en: data.data[0].quoteText,
            vi: await translateToVietnamese(data.data[0].quoteText) || data.data[0].quoteText,
            lvl: data.data[0].quoteText.split(' ').length > 8 ? 'adv' : 'inter'
          }];
        }
        return [];
      },
      
      // API 2: Programming Quotes - L·∫•y c√°c c√¢u quote v·ªÅ l·∫≠p tr√¨nh (ti·∫øng Anh)
      async () => {
        const response = await fetch('https://programming-quotesapi.vercel.app/api/random');
        const data = await response.json();
        if (data && data.en) {
          return [{
            en: data.en,
            vi: await translateToVietnamese(data.en) || data.en,
            lvl: 'adv'
          }];
        }
        return [];
      },
      
      // API 3: They Said So Quotes - L·∫•y quotes t·ª´ nhi·ªÅu t√°c gi·∫£
      async () => {
        const response = await fetch('https://quotes.rest/qod?language=en');
        const data = await response.json();
        if (data && data.contents && data.contents.quotes && data.contents.quotes[0]) {
          const quote = data.contents.quotes[0];
          return [{
            en: quote.quote,
            vi: await translateToVietnamese(quote.quote) || quote.quote,
            lvl: quote.quote.split(' ').length > 10 ? 'adv' : 'inter'
          }];
        }
        return [];
      },
      
      // API 4: Random Useless Facts
      async () => {
        const response = await fetch('https://uselessfacts.jsph.pl/api/v2/facts/random');
        const data = await response.json();
        if (data && data.text) {
          return [{
            en: data.text,
            vi: await translateToVietnamese(data.text) || data.text,
            lvl: 'basic'
          }];
        }
        return [];
      },
      
      // API 5: JSONPlaceholder - L·∫•y posts (c√≥ th·ªÉ d√πng l√†m c√¢u)
      async () => {
        const response = await fetch('https://jsonplaceholder.typicode.com/posts/' + Math.floor(Math.random() * 100 + 1));
        const data = await response.json();
        if (data && data.title && data.body) {
          const sentences = [data.title, data.body.split('.')[0]].filter(s => s.length > 10);
          return sentences.map(s => ({
            en: s,
            vi: s,
            lvl: 'inter'
          }));
        }
        return [];
      },
      
      // API 6: Random Cat Fact
      async () => {
        const response = await fetch('https://catfact.ninja/fact');
        const data = await response.json();
        if (data && data.fact) {
          return [{
            en: data.fact,
            vi: await translateToVietnamese(data.fact) || data.fact,
            lvl: 'basic'
          }];
        }
        return [];
      },
      
      // API 7: Random Dog Fact (thay th·∫ø)
      async () => {
        const response = await fetch('https://dog-api.kinduff.com/api/facts');
        const data = await response.json();
        if (data && data.facts && data.facts[0]) {
          return [{
            en: data.facts[0],
            vi: await translateToVietnamese(data.facts[0]) || data.facts[0],
            lvl: 'basic'
          }];
        }
        return [];
      }
    ];
    
    // Ch·∫°y song song nhi·ªÅu API ƒë·ªÉ l·∫•y nhi·ªÅu c√¢u c√πng l√∫c
    const promises = [];
    for (let i = 0; i < Math.ceil(count / 3); i++) {
      for (const api of apis.slice(0, 3)) {
        promises.push(api().catch(() => []));
      }
    }
    
    const results = await Promise.all(promises);
    const sentences = results.flat().filter(s => s && s.en && s.en.length > 0);
    
    // Th√™m c√°c c√¢u m·∫´u n·∫øu kh√¥ng l·∫•y ƒë∆∞·ª£c ƒë·ªß
    while (sentences.length < count) {
      sentences.push({
        en: "Learning English is fun!",
        vi: "H·ªçc ti·∫øng Anh th·∫≠t vui!",
        lvl: "basic"
      });
    }
    
    return sentences.slice(0, count);
  } catch (error) {
    console.error('Error fetching real data:', error);
    return [];
  }
}

// H√†m l·∫•y h·ªôi tho·∫°i m·ªõi t·ª´ internet
async function fetchRealDialogues() {
  try {
    // Danh s√°ch c√°c API ƒë·ªÉ t·∫°o h·ªôi tho·∫°i
    const dialogueTopics = [
      {
        topic: "T·∫°i nh√† h√†ng", icon: "üçΩÔ∏è",
        templates: [
          {s: "A", en: "Welcome to our restaurant. How many people?", vi: "Ch√†o m·ª´ng ƒë·∫øn v·ªõi nh√† h√†ng. C√≥ m·∫•y ng∆∞·ªùi ·∫°?"},
          {s: "B", en: "Table for two, please.", vi: "B√†n cho hai ng∆∞·ªùi ·∫°."},
          {s: "A", en: "Right this way. Here are your menus.", vi: "M·ªùi ƒëi l·ªëi n√†y. ƒê√¢y l√† th·ª±c ƒë∆°n c·ªßa qu√Ω kh√°ch."},
          {s: "B", en: "Thank you. What do you recommend?", vi: "C·∫£m ∆°n. B·∫°n c√≥ ƒë·ªÅ xu·∫•t m√≥n g√¨ kh√¥ng?"},
          {s: "A", en: "Our special today is grilled salmon with vegetables.", vi: "M√≥n ƒë·∫∑c bi·ªát h√¥m nay l√† c√° h·ªìi n∆∞·ªõng v·ªõi rau c·ªß."},
          {s: "B", en: "That sounds delicious. I'll have that.", vi: "Nghe ngon qu√°. T√¥i s·∫Ω g·ªçi m√≥n ƒë√≥."}
        ]
      },
      {
        topic: "ƒêi mua s·∫Øm", icon: "üõçÔ∏è",
        templates: [
          {s: "A", en: "Can I help you find something?", vi: "T√¥i c√≥ th·ªÉ gi√∫p b·∫°n t√¨m g√¨ kh√¥ng?"},
          {s: "B", en: "Yes, I'm looking for a blue shirt.", vi: "V√¢ng, t√¥i ƒëang t√¨m m·ªôt c√°i √°o s∆° mi m√†u xanh."},
          {s: "A", en: "What size do you need?", vi: "B·∫°n c·∫ßn size bao nhi√™u?"},
          {s: "B", en: "Medium, please. Do you have it in stock?", vi: "Size M ·∫°. C√≤n h√†ng kh√¥ng ·∫°?"},
          {s: "A", en: "Let me check. Yes, we have it in medium.", vi: "ƒê·ªÉ t√¥i ki·ªÉm tra. C√≥ ·∫°, ch√∫ng t√¥i c√≤n size M."},
          {s: "B", en: "Great! Can I try it on?", vi: "Tuy·ªát! T√¥i c√≥ th·ªÉ th·ª≠ kh√¥ng?"}
        ]
      },
      {
        topic: "H·ªèi ƒë∆∞·ªùng", icon: "üó∫Ô∏è",
        templates: [
          {s: "A", en: "Excuse me, could you help me?", vi: "Xin l·ªói, b·∫°n c√≥ th·ªÉ gi√∫p t√¥i kh√¥ng?"},
          {s: "B", en: "Of course. What do you need?", vi: "T·∫•t nhi√™n. B·∫°n c·∫ßn g√¨?"},
          {s: "A", en: "I'm looking for the nearest subway station.", vi: "T√¥i ƒëang t√¨m ga t√†u ƒëi·ªán ng·∫ßm g·∫ßn nh·∫•t."},
          {s: "B", en: "It's just two blocks straight ahead.", vi: "N√≥ ·ªü ph√≠a tr∆∞·ªõc, c√°ch hai d√£y nh√† th√¥i."},
          {s: "A", en: "Is it far from here?", vi: "C√≥ xa ƒë√¢y kh√¥ng?"},
          {s: "B", en: "No, about a 5-minute walk.", vi: "Kh√¥ng, ch·ªâ kho·∫£ng 5 ph√∫t ƒëi b·ªô."}
        ]
      },
      {
        topic: "Kh√°ch s·∫°n", icon: "üè®",
        templates: [
          {s: "A", en: "Welcome to our hotel. Do you have a reservation?", vi: "Ch√†o m·ª´ng ƒë·∫øn v·ªõi kh√°ch s·∫°n. Qu√Ω kh√°ch c√≥ ƒë·∫∑t ph√≤ng tr∆∞·ªõc kh√¥ng?"},
          {s: "B", en: "Yes, I booked a room online. Name is John Smith.", vi: "C√≥, t√¥i ƒë√£ ƒë·∫∑t ph√≤ng tr·ª±c tuy·∫øn. T√™n l√† John Smith."},
          {s: "A", en: "Let me check. Yes, a deluxe room for two nights.", vi: "ƒê·ªÉ t√¥i ki·ªÉm tra. V√¢ng, ph√≤ng deluxe cho hai ƒë√™m."},
          {s: "B", en: "That's correct. What time is breakfast?", vi: "ƒê√∫ng r·ªìi. B·ªØa s√°ng l√∫c m·∫•y gi·ªù?"},
          {s: "A", en: "Breakfast is served from 6:30 to 10 AM.", vi: "B·ªØa s√°ng ph·ª•c v·ª• t·ª´ 6:30 ƒë·∫øn 10 gi·ªù s√°ng."},
          {s: "B", en: "Perfect. Thank you very much.", vi: "Tuy·ªát v·ªùi. C·∫£m ∆°n b·∫°n r·∫•t nhi·ªÅu."}
        ]
      },
      {
        topic: "Ph·ªèng v·∫•n xin vi·ªác", icon: "üíº",
        templates: [
          {s: "A", en: "Good morning. Please have a seat.", vi: "Ch√†o bu·ªïi s√°ng. M·ªùi b·∫°n ng·ªìi."},
          {s: "B", en: "Thank you for having me.", vi: "C·∫£m ∆°n √¥ng/b√† ƒë√£ d√†nh th·ªùi gian."},
          {s: "A", en: "Tell me about your previous experience.", vi: "H√£y cho t√¥i bi·∫øt v·ªÅ kinh nghi·ªám tr∆∞·ªõc ƒë√¢y c·ªßa b·∫°n."},
          {s: "B", en: "I have five years of experience in marketing.", vi: "T√¥i c√≥ nƒÉm nƒÉm kinh nghi·ªám trong lƒ©nh v·ª±c marketing."},
          {s: "A", en: "Why do you want to work here?", vi: "T·∫°i sao b·∫°n mu·ªën l√†m vi·ªác ·ªü ƒë√¢y?"},
          {s: "B", en: "I admire your company's innovative approach.", vi: "T√¥i ng∆∞·ª°ng m·ªô c√°ch ti·∫øp c·∫≠n s√°ng t·∫°o c·ªßa c√¥ng ty."}
        ]
      }
    ];

    // L·∫•y ng·∫´u nhi√™n m·ªôt ch·ªß ƒë·ªÅ
    const randomTopic = dialogueTopics[Math.floor(Math.random() * dialogueTopics.length)];
    
    // L·∫•y th√™m d·ªØ li·ªáu t·ª´ API ƒë·ªÉ l√†m phong ph√∫ h·ªôi tho·∫°i
    const extraSentences = await fetchRealEnglishSentences(3);
    
    // T·∫°o h·ªôi tho·∫°i m·ªõi
    const lines = [];
    
    // Th√™m c√°c c√¢u t·ª´ template
    randomTopic.templates.forEach((template, index) => {
      lines.push({
        s: template.s,
        en: template.en,
        vi: template.vi
      });
    });
    
    // Th√™m m·ªôt s·ªë c√¢u t·ª´ API n·∫øu c√≥
    extraSentences.forEach((sentence, index) => {
      if (index < 2) { // Ch·ªâ th√™m t·ªëi ƒëa 2 c√¢u
        lines.push({
          s: index % 2 === 0 ? 'A' : 'B',
          en: sentence.en,
          vi: sentence.vi
        });
      }
    });
    
    // X√°c ƒë·ªãnh level d·ª±a tr√™n ƒë·ªô d√†i trung b√¨nh c·ªßa c√¢u
    let level = 'inter';
    const avgLength = lines.reduce((sum, line) => sum + line.en.split(' ').length, 0) / lines.length;
    if (avgLength < 6) level = 'basic';
    else if (avgLength > 10) level = 'adv';
    
    return {
      topic: randomTopic.topic,
      icon: randomTopic.icon,
      level: level,
      lines: lines
    };
    
  } catch (error) {
    console.error('Error fetching real dialogue:', error);
    return null;
  }
}

// H√†m d·ªãch t·∫°m th·ªùi (s·ª≠ d·ª•ng MyMemory Translation API - free)
async function translateToVietnamese(text) {
  try {
    const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|vi`);
    const data = await response.json();
    if (data && data.responseData && data.responseData.translatedText) {
      return data.responseData.translatedText;
    }
    return text;
  } catch (error) {
    return text;
  }
}

// H√†m l·∫•y d·ªØ li·ªáu m·ªõi t·ª´ internet cho AI Random
async function refreshAIRandom() {
  const main = document.getElementById("main");
  
  // Hi·ªÉn th·ªã loading
  main.innerHTML = `
    <div class="part-section">
      <div class="part-header" style="background:linear-gradient(135deg, #FFD93D, #FF6B6B); color:#000;">
        <div style="display:flex; align-items:center; gap:15px;">
          <div style="font-size:40px;">ü§ñ</div>
          <div>
            <div style="font-size:12px; opacity:0.8; text-transform:uppercase;">CH·∫æ ƒê·ªò TH·ª¨ TH√ÅCH</div>
            <div style="font-size:24px;">ƒêang t·∫£i d·ªØ li·ªáu t·ª´ internet...</div>
          </div>
        </div>
      </div>
      <div class="loading-text">
        <div class="loading-spinner"></div>
        <span>ƒêang k·∫øt n·ªëi ƒë·∫øn c√°c ngu·ªìn d·ªØ li·ªáu mi·ªÖn ph√≠...</span>
      </div>
    </div>
  `;
  
  try {
    // L·∫•y d·ªØ li·ªáu t·ª´ internet
    const realSentences = await fetchRealEnglishSentences(50);
    
    // K·∫øt h·ª£p v·ªõi d·ªØ li·ªáu c√≥ s·∫µn
    let pool = [];
    
    // Th√™m d·ªØ li·ªáu t·ª´ internet
    realSentences.forEach((s, index) => {
      pool.push({
        stt: `WEB${index + 1}`,
        en: s.en,
        vi: s.vi || s.en,
        lvl: s.lvl || 'inter'
      });
    });
    
    // Th√™m d·ªØ li·ªáu t·ª´ file g·ªëc
    DATA.forEach(p => p.topics.forEach(t => t.sentences.forEach(s => {
      if(currentLevel === "all" || s.lvl === currentLevel) {
        pool.push({...s, stt: s.stt});
      }
    })));
    
    // X√°o tr·ªôn v√† l·∫•y 100 c√¢u
    aiPool = pool.sort(() => 0.5 - Math.random()).slice(0, 100);
    
    // Render l·∫°i
    render();
    
  } catch (error) {
    console.error('Error refreshing AI data:', error);
    // Fallback to local data if internet fetch fails
    let pool = [];
    DATA.forEach(p => p.topics.forEach(t => t.sentences.forEach(s => {
      if(currentLevel === "all" || s.lvl === currentLevel) pool.push(s);
    })));
    aiPool = pool.sort(() => 0.5 - Math.random()).slice(0, 100);
    render();
  }
}

// H√†m l·∫•y h·ªôi tho·∫°i m·ªõi cho tab Chat
async function refreshChatDialog() {
  const main = document.getElementById("main");
  
  // Hi·ªÉn th·ªã loading
  main.innerHTML = `
    <div class="part-section">
      <div class="part-header" style="background:linear-gradient(135deg, #00BCD4, #4CAF50); color:white;">
        <div style="display:flex; align-items:center; gap:15px;">
          <div style="font-size:40px;">üè´</div>
          <div>
            <div style="font-size:12px; opacity:0.8; text-transform:uppercase;">GI√ÅO VI√äN AI B·∫¢N X·ª®</div>
            <div style="font-size:24px;">ƒêang t·∫£i h·ªôi tho·∫°i m·ªõi...</div>
          </div>
        </div>
      </div>
      <div class="loading-text">
        <div class="loading-spinner"></div>
        <span>ƒêang k·∫øt n·ªëi ƒë·∫øn c√°c ngu·ªìn d·ªØ li·ªáu mi·ªÖn ph√≠...</span>
      </div>
    </div>
  `;
  
  try {
    // Th·ª≠ l·∫•y h·ªôi tho·∫°i t·ª´ internet
    const internetDialog = await fetchRealDialogues();
    
    if (internetDialog && (currentLevel === "all" || internetDialog.level === currentLevel)) {
      currentDialog = internetDialog;
    } else {
      // N·∫øu kh√¥ng l·∫•y ƒë∆∞·ª£c, d√πng d·ªØ li·ªáu m·∫´u
      const fallbackDialogues = [
        {
          topic: "L·∫ßn ƒë·∫ßu g·∫∑p m·∫∑t t·∫°i c√¥ng vi√™n", icon: "ü§ù", level: "basic",
          lines: [
            {s: "A", en: "Hi there! It's a lovely day today, isn't it?", vi: "Ch√†o b·∫°n! H√¥m nay tr·ªùi ƒë·∫πp qu√° nh·ªâ?"},
            {s: "B", en: "Yes, it's perfect for a walk. My name is Sarah.", vi: "ƒê√∫ng v·∫≠y, r·∫•t th√≠ch h·ª£p ƒë·ªÉ ƒëi d·∫°o. M√¨nh t√™n l√† Sarah."},
            {s: "A", en: "Nice to meet you, Sarah. I'm Alex. Do you live around here?", vi: "R·∫•t vui ƒë∆∞·ª£c g·∫∑p b·∫°n, Sarah. M√¨nh l√† Alex. B·∫°n c√≥ s·ªëng quanh ƒë√¢y kh√¥ng?"},
            {s: "B", en: "I live just a block away. How about you?", vi: "M√¨nh s·ªëng c√°ch ƒë√¢y m·ªôt d√£y nh√†. C√≤n b·∫°n?"},
            {s: "A", en: "I'm visiting from the next town over.", vi: "M√¨nh t·ª´ th·ªã tr·∫•n b√™n c·∫°nh ƒë·∫øn ch∆°i."}
          ]
        },
        {
          topic: "Cu·ªôc h·∫πn c√† ph√™ s√°ng", icon: "‚òï", level: "inter",
          lines: [
            {s: "A", en: "Good morning! Have you been waiting long?", vi: "Ch√†o bu·ªïi s√°ng! B·∫°n ƒë·ª£i m√¨nh l√¢u ch∆∞a?"},
            {s: "B", en: "Not at all, I just arrived a few minutes ago.", vi: "Kh√¥ng h·ªÅ, m√¨nh c≈©ng v·ª´a m·ªõi ƒë·∫øn v√†i ph√∫t tr∆∞·ªõc th√¥i."},
            {s: "A", en: "The aroma in this coffee shop is absolutely amazing.", vi: "M√πi h∆∞∆°ng trong qu√°n c√† ph√™ n√†y th·ª±c s·ª± r·∫•t tuy·ªát v·ªùi."},
            {s: "B", en: "I agree. I'm thinking about trying their signature cold brew.", vi: "M√¨nh ƒë·ªìng √Ω. M√¨nh ƒëang t√≠nh th·ª≠ m√≥n c√† ph√™ ·ªß l·∫°nh ƒë·∫∑c tr∆∞ng c·ªßa h·ªç."}
          ]
        },
        {
          topic: "K·∫ø ho·∫°ch leo n√∫i cu·ªëi tu·∫ßn", icon: "‚õ∞Ô∏è", level: "adv",
          lines: [
            {s: "A", en: "The weather forecast says it will be clear this weekend.", vi: "D·ª± b√°o th·ªùi ti·∫øt n√≥i r·∫±ng cu·ªëi tu·∫ßn n√†y tr·ªùi s·∫Ω t·∫°nh r√°o."},
            {s: "B", en: "That's fantastic news! Do you fancy going for a hike?", vi: "Tin tuy·ªát qu√°! B·∫°n c√≥ mu·ªën ƒëi leo n√∫i m·ªôt chuy·∫øn kh√¥ng?"},
            {s: "A", en: "I'd love to, but I need to check my gear first.", vi: "M√¨nh r·∫•t mu·ªën, nh∆∞ng m√¨nh c·∫ßn ki·ªÉm tra l·∫°i ƒë·ªì ƒë·∫°c c·ªßa m√¨nh ƒë√£."},
            {s: "B", en: "Don't worry, I have an extra backpack and a pair of poles if you need them.", vi: "ƒê·ª´ng lo, m√¨nh c√≥ d∆∞ m·ªôt c√°i ba l√¥ v√† ƒë√¥i g·∫≠y leo n√∫i n·∫øu b·∫°n c·∫ßn."}
          ]
        }
      ];
      
      const filtered = fallbackDialogues.filter(d => currentLevel === "all" || d.level === currentLevel);
      currentDialog = filtered[Math.floor(Math.random() * filtered.length)];
    }
    
    render();
    
  } catch (error) {
    console.error('Error refreshing chat dialog:', error);
    // Fallback to local data
    const fallbackDialogues = [
      {
        topic: "L·∫ßn ƒë·∫ßu g·∫∑p m·∫∑t t·∫°i c√¥ng vi√™n", icon: "ü§ù", level: "basic",
        lines: [
          {s: "A", en: "Hi there! It's a lovely day today, isn't it?", vi: "Ch√†o b·∫°n! H√¥m nay tr·ªùi ƒë·∫πp qu√° nh·ªâ?"},
          {s: "B", en: "Yes, it's perfect for a walk. My name is Sarah.", vi: "ƒê√∫ng v·∫≠y, r·∫•t th√≠ch h·ª£p ƒë·ªÉ ƒëi d·∫°o. M√¨nh t√™n l√† Sarah."}
        ]
      }
    ];
    const filtered = fallbackDialogues.filter(d => currentLevel === "all" || d.level === currentLevel);
    currentDialog = filtered[Math.floor(Math.random() * filtered.length)];
    render();
  }
}

function init() {
  const bc = document.getElementById("bubbles");
  for(let i=0; i<18; i++){
    const b = document.createElement("div");
    b.className = "bubble";
    const s = 40 + Math.random()*120;
    b.style.cssText = `width:${s}px;height:${s}px;left:${Math.random()*100}%;background:#FF6B6B;animation-duration:${12+Math.random()*20}s;opacity:0.04;bottom:-100px;`;
    bc.appendChild(b);
  }

  const tabs = document.getElementById("tabs");
  DATA.forEach((part, i) => {
    const btn = document.createElement("button");
    btn.className = "tab-btn";
    btn.dataset.part = i;
    btn.innerHTML = `${part.icon} ${part.name}`;
    btn.onclick = () => setTab(i);
    tabs.appendChild(btn);
  });

  document.querySelectorAll('.lvl-btn').forEach(btn => {
    btn.onclick = () => {
      document.querySelectorAll('.lvl-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentLevel = btn.dataset.lvl;
      if (currentPart === "ai") refreshAIRandom();
      if (currentPart === "chat") refreshChatDialog();
      render();
    };
  });

  document.querySelector('.tab-btn[data-part="-1"]').onclick = () => setTab(-1);
  document.querySelector('.tab-btn[data-part="ai"]').onclick = () => setTab("ai");
  document.querySelector('.tab-btn[data-part="chat"]').onclick = () => setTab("chat");

  // Kh·ªüi t·∫°o aiPool ban ƒë·∫ßu
  refreshAIRandom();

  window.addEventListener("scroll", () => {
    const scrollY = window.scrollY;
    const height = document.documentElement.scrollHeight - window.innerHeight;
    document.getElementById("progress").style.width = (scrollY / height * 100) + "%";
    document.getElementById("back-top").classList.toggle("show", scrollY > 400);
  });
  document.getElementById("back-top").onclick = () => window.scrollTo({top: 0, behavior: 'smooth'});
}

function setTab(idx) {
  currentPart = idx;
  document.querySelectorAll(".tab-btn").forEach(b => b.classList.toggle("active", b.dataset.part == idx));
  if (idx === "ai") {
    refreshAIRandom();
  } else if (idx === "chat") {
    refreshChatDialog();
  }
  render();
  window.scrollTo({top:0, behavior:"smooth"});
}

document.getElementById("search").oninput = (e) => {
  searchQ = e.target.value.toLowerCase().trim();
  render();
};

function highlight(text, q) {
  if (!q) return text;
  const re = new RegExp("(" + q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&") + ")", "gi");
  return text.replace(re, "<mark class=\"hl\">$1</mark>");
}

function speak(text) {
  if (synth.speaking) synth.cancel();
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = "en-US";
  utter.rate = 0.8;
  synth.speak(utter);
}

function render() {
  const main = document.getElementById("main");
  const emptyDiv = document.getElementById("empty");
  main.innerHTML = "";
  const q = searchQ;
  let totalVisible = 0;

  if (currentPart === "chat") { 
    renderChatTab(); 
    return; 
  }
  if (currentPart === "ai") { 
    renderAITab(); 
    return; 
  }

  const partsToShow = currentPart === -1 ? DATA : [DATA[currentPart]];
  partsToShow.forEach((part, localIdx) => {
    const pIdx = currentPart === -1 ? localIdx : currentPart;
    const color = PART_COLORS[pIdx % 4];
    const grad = PART_GRADS[pIdx % 4];

    let topicsHtml = "";
    part.topics.forEach(topic => {
      let rows = "";
      let topicVisible = 0;
      topic.sentences.forEach(s => {
        if ((s.en.toLowerCase().includes(q) || s.vi.toLowerCase().includes(q)) && (currentLevel === "all" || s.lvl === currentLevel)) {
          topicVisible++; totalVisible++;
          rows += `<div class="sentence-row">
            <div class="stt-badge" style="background:${color}">${s.stt}</div>
            <div class="en-text">${highlight(s.en, q)}</div>
            <div class="vi-text">${highlight(s.vi, q)}</div>
            <button class="speak-btn" onclick="speak('${s.en.replace(/'/g, "\\'")}')">üîä</button>
          </div>`;
        }
      });
      if(topicVisible > 0) topicsHtml += `<div class="topic-card"><div class="topic-card-header" style="background:${color}15; padding: 12px; font-weight:800; color:${color}">${topic.icon} ${topic.name}</div><div class="sentences">${rows}</div></div>`;
    });

    if(topicsHtml) {
      const section = document.createElement("div");
      section.className = "part-section";
      section.innerHTML = `<div class="part-header" style="background:${grad}"><div style="display:flex; align-items:center; gap:15px;"><div style="font-size:40px;">${part.icon}</div><div><div style="font-size:12px; opacity:0.8; text-transform:uppercase;">${part.name}</div><div style="font-size:24px;">${part.title}</div></div></div></div><div class="topics-grid">${topicsHtml}</div>`;
      main.appendChild(section);
    }
  });
  
  document.getElementById("search-count").textContent = q ? `T√¨m th·∫•y ${totalVisible} c√¢u` : "";
  emptyDiv.style.display = totalVisible === 0 ? "block" : "none";
}

function renderAITab() {
  const main = document.getElementById("main");
  const grad = "linear-gradient(135deg, #FFD93D, #FF6B6B)";
  const section = document.createElement("div");
  section.className = "part-section";
  section.innerHTML = `
    <div class="part-header" style="background:${grad}; color:#000;">
      <div style="display:flex; align-items:center; gap:15px;">
        <div style="font-size:40px;">ü§ñ</div>
        <div>
          <div style="font-size:12px; opacity:0.8; text-transform:uppercase;">CH·∫æ ƒê·ªò TH·ª¨ TH√ÅCH</div>
          <div style="font-size:24px;">AI Random 100 C√¢u</div>
        </div>
      </div>
      <button class="ai-btn" style="border-color:#000; color:#000;" onclick="refreshAIRandom()">‚ú® L·∫•y d·ªØ li·ªáu m·ªõi t·ª´ Internet</button>
    </div>
    <div class="topics-grid">
      <div class="topic-card" style="grid-column: 1 / -1;">
        <div class="topic-card-header" style="background:#FFD93D22; padding: 12px; font-weight:800; color:#FFB800">
          üåü DANH S√ÅCH √îN T·∫¨P (${currentLevel.toUpperCase()}) - ${aiPool.length} c√¢u
        </div>
        <div class="sentences">
          ${aiPool.map((s, index) => `
            <div class="sentence-row">
              <div class="stt-badge" style="background:#444;">${index + 1}</div>
              <div class="en-text">${s.en}</div>
              <div class="vi-text">${s.vi}</div>
              <button class="speak-btn" onclick="speak('${s.en.replace(/'/g, "\\'")}')">üîä</button>
            </div>
          `).join('')}
        </div>
      </div>
    </div>`;
  main.appendChild(section);
}

function renderChatTab() {
  const main = document.getElementById("main");
  
  if (!currentDialog) {
    refreshChatDialog();
    return;
  }

  const section = document.createElement("div");
  section.className = "part-section";
  section.innerHTML = `
    <div class="part-header" style="background:linear-gradient(135deg, #00BCD4, #4CAF50)">
      <div style="display:flex; align-items:center; gap:15px;">
        <div style="font-size:40px;">üè´</div>
        <div>
          <div style="font-size:12px; opacity:0.8; text-transform:uppercase;">GI√ÅO VI√äN AI B·∫¢N X·ª®</div>
          <div style="font-size:24px;">Ch·ªß ƒë·ªÅ: ${currentDialog.topic}</div>
        </div>
      </div>
      <button class="ai-btn" onclick="refreshChatDialog()">‚ú® ƒê·ªïi h·ªôi tho·∫°i m·ªõi t·ª´ Internet</button>
    </div>
    <div class="topic-card">
      <div class="chat-bubble-wrap">
        ${currentDialog.lines.map(line => `
          <div class="chat-bubble speaker-${line.s}" style="${line.s === 'B' ? 'align-self: flex-end;' : ''}">
            <div class="chat-header">
              <span class="chat-meta">Speaker ${line.s}</span>
              <button class="chat-speak-btn" onclick="speak('${line.en.replace(/'/g, "\\'")}')">üîä</button>
            </div>
            <div class="chat-content">
              <span class="chat-en">${line.en}</span><br>
              <span class="chat-vi">${line.vi}</span>
            </div>
          </div>
        `).join('')}
      </div>
    </div>`;
  main.appendChild(section);
}

init();
</script>
</body>
</html>
